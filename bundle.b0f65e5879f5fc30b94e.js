document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("result");let t="0",n="",a=null,r=!0;function c(c){const l=c.target.dataset.action,u=c.target.dataset.number;u&&function(e){if(r)t="."===e?"0.":e,r=!1;else{if("."===e&&t.includes("."))return;t+=e}t=t.replace(/^0+(?!\.|$)/,"")}(u),l&&function(e){switch(e){case"clear":t="0",n="",a=null,r=!0;break;case"sign":t=String(-parseFloat(t));break;case"percent":t=String(parseFloat(t)/100);break;case"calculate":a&&""!==n&&(t=function(e,t,n){switch(e=parseFloat(e),t=parseFloat(t),n){case"add":return e+t;case"subtract":return e-t;case"multiply":return e*t;case"divide":return 0===t?"Error":e/t;default:return t}}(n,t,a),a=null,n="",r=!0);break;default:if(a)return;n=t,a=e,r=!0}}(l),e.textContent=t.length>10?parseFloat(t).toExponential(5):t}document.querySelectorAll("button").forEach((e=>{e.addEventListener("click",c)}))}));